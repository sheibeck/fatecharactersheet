<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Create and manage all your characters for the Fate Roleplaying Game. We have character sheets for Fate Core, Fate Accelerated and additional custom character sheets for the Fate Roleplaying Game. You can roll Fate dice and create and find adversaries for your Fate Roleplaying game.">
    <meta name="author" content="Sterling Heibeck">

    <!-- css libraries -->
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">

    <link rel="stylesheet" href="site.css">

    <link rel="shortcut icon" type="image/png" href="favicon.png" />
    <link rel="import" href="head.htm">
    <link rel="import" href="nav.htm">
    <link rel="import" href="footer.htm">

  	<title>Register - Fate Character Sheet</title>

    <script type="text/javascript">
      var webComponentsSupported = ('registerElement' in document && 'import' in document.createElement('link') && 'content' in document.createElement('template'));
      if (!webComponentsSupported) alert('This site uses the HTML Imports feature of Web Components. Your browser does not currently support this. Please use the latest version of Chrome or Opera.')
    </script>
</head>

<body>
  <h1 class="brand-name d-print-none my-0 py-1 px-1">Fate Character Sheet</h1>
  <nav></nav>
  <div class="container mt-2 text-center">
    <div class="row">
      <div class="col-sm-12 h1">
        Register
      </div>
      <div class="col-sm-12 h4">
        Register your account
      </div>
    </div>
    <div class="row m-4 justify-content-md-center">
      <div class="col-sm-12 col-md-4">
        <div class="form-group">
          <label for="email">Email address</label>
          <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" placeholder="Password">
        </div>
        <div class="form-group">
          <label for="passwordConfirm">Confirm Password</label>
          <input type="password" class="form-control" id="passwordConfirm" placeholder="Confirm Password">
        </div>
        <button id="RegisterCognito" type="button" class="btn btn-primary col-sm-12 col-md-5 mt-1 mb-1">
            Register <i class="fas fa-user-plus"></i>
        </button>
      </div>
    </div>
  </div>
  <footer></footer>
</body>
</html>

<!-- web components alert -->
<script type="text/javascript">
  var webComponentsSupported = ('registerElement' in document && 'import' in document.createElement('link') && 'content' in document.createElement('template'));
  if (!webComponentsSupported) alert('This site uses the HTML Imports feature of Web Components. Your browser does not currently support this. Please use the latest version of Chrome or Opera.')
</script>

<script type="text/javascript">
$(function() {
  function validateEmail(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
  }

  $('#RegisterCognito').on('click', function() {
    if ($('#password').val() != $('#passwordConfirm').val())
    {
      fatesheet.notify('Passwords do not match.');
      return false;
    }

    if (!validateEmail($('#email').val()))
    {
      fatesheet.notify('Email is not valid.');
      return false;
    }

    fatesheet.register($('#email').val(), $('#password').val());
  });
});
</script>
